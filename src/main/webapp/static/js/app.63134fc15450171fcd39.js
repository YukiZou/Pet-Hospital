webpackJsonp([1],{"3O46":function(e,t){},ENLC:function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("MVMM"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=i("Z0/y")({name:"App"},a,!1,function(e){i("jA0s")},"data-v-243f5c88",null).exports,r=i("zO6J"),n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"hello"},[i("h1",[e._v(e._s(e.msg))]),e._v(" "),i("h2",[e._v("Essential Links")]),e._v(" "),e._m(0),e._v(" "),i("h2",[e._v("Ecosystem")]),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",[i("li",[i("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("\n        Core Docs\n      ")])]),e._v(" "),i("li",[i("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[e._v("\n        Forum\n      ")])]),e._v(" "),i("li",[i("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[e._v("\n        Community Chat\n      ")])]),e._v(" "),i("li",[i("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[e._v("\n        Twitter\n      ")])]),e._v(" "),i("br"),e._v(" "),i("li",[i("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[e._v("\n        Docs for This Template\n      ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var l=i("Z0/y")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},n,!1,function(e){i("TFqn")},"data-v-694cd902",null).exports,u={props:{name:String},data:function(){return{activeIndex:""}},created:function(){this.activeIndex=this.$router.currentRoute.fullPath.split("/").pop()},methods:{handleSelect:function(e,t){this.$router.push({path:"/"+e})},logout:function(){var e=this;console.log("logout"),this.$api.post("/user/logout",null,function(t){"success"===t.status?(e.$cookie.delete("name"),e.$cookie.delete("auth"),e.$cookie.delete("picUrl"),e.$router.push({path:"/login"})):e.$notify.error({title:"错误",message:"登出失败"})})}}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-row",{attrs:{gutter:5}},[i("el-col",{staticClass:"row-col-center",attrs:{span:6}},[i("img",{attrs:{src:"static/img/pet-hospital-logo.png",alt:"pet-hospital-logo"}}),e._v(" "),i("span",{staticClass:"hidden-md-and-down"},[e._v("宠物医院学习系统"),i("br"),e._v("后台管理")])]),e._v(" "),i("el-col",{attrs:{span:15}},[i("el-menu",{staticClass:"el-menu-demo",staticStyle:{"border-bottom":"none"},attrs:{"default-active":e.activeIndex,mode:"horizontal"},on:{select:e.handleSelect}},[i("el-menu-item",{attrs:{index:""}},[i("i",{staticClass:"fa fa-home fa-lg"}),e._v(" "),i("span",{staticClass:"hidden-md-and-down"},[e._v(" 首页")])]),e._v(" "),i("el-menu-item",{attrs:{index:"user"}},[i("i",{staticClass:"fa fa-users fa-lg"}),e._v(" "),i("span",{staticClass:"hidden-md-and-down"},[e._v(" 用户管理")])]),e._v(" "),i("el-menu-item",{attrs:{index:"question"}},[i("i",{staticClass:"fa fa-book fa-lg"}),e._v(" \n        "),i("span",{staticClass:"hidden-md-and-down"},[e._v("试题管理")])]),e._v(" "),i("el-menu-item",{attrs:{index:"procedure"}},[i("i",{staticClass:"fa fa-list-ol fa-lg"}),e._v(" "),i("span",{staticClass:"hidden-md-and-down"},[e._v(" 流程管理")])]),e._v(" "),i("el-menu-item",{attrs:{index:"department"}},[i("i",{staticClass:"fa fa-hospital-o fa-lg"}),e._v(" "),i("span",{staticClass:"hidden-md-and-down"},[e._v(" 科室管理")])]),e._v(" "),i("el-menu-item",{attrs:{index:"case"}},[i("i",{staticClass:"fa fa-video-camera fa-lg"}),e._v(" "),i("span",{staticClass:"hidden-md-and-down"},[e._v(" 病例管理")])])],1)],1),e._v(" "),i("el-col",{attrs:{span:3}},[i("el-dropdown",[i("span",[i("img",{staticStyle:{"border-radius":"30px"},attrs:{src:"static/img/userpic.jpg",alt:"userpic",height:"60px"}})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{disabled:""}},[e._v(e._s(e.name))]),e._v(" "),i("el-dropdown-item",[i("i",{staticClass:"fa fa-cog fa-lg"}),e._v("\n          账户设置\n        ")]),e._v(" "),i("el-dropdown-item",[i("span",{on:{click:e.logout}},[i("i",{staticClass:"fa fa-power-off fa-lg",staticStyle:{color:"grey"}}),e._v("\n            退出登录\n          ")])])],1)],1)],1)],1)},staticRenderFns:[]};var p=i("Z0/y")(u,c,!1,function(e){i("WDQU")},"data-v-bf2a54c2",null).exports,d={components:{myHeader:p},data:function(){return{name:"xxx",auth:0}},created:function(){this.name=this.$cookie.get("name"),this.auth=this.$cookie.get("auth"),this.userValidate()},methods:{userValidate:function(){"2"!==this.auth&&"3"!==this.auth&&this.$router.push({path:"/login"})}}},m={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-container",[t("el-header",{staticStyle:{height:"auto"}},[t("my-header",{attrs:{name:this.name}})],1),this._v(" "),t("el-main",[t("router-view")],1)],1)},staticRenderFns:[]},g=i("Z0/y")(d,m,!1,null,null,null).exports,f={components:{myHeader:p},data:function(){return{loginForm:{name:"",pwd:""},loginRule:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.$refs.loginForm.validate(function(t){t&&e.$api.post("/user/login",{userName:e.loginForm.name,pwd:e.loginForm.pwd},function(t){"success"===t.status&&1!==t.auth?(e.$cookie.set("name",e.loginForm.name,.25),e.$cookie.set("auth",3,.25),e.$cookie.set("picUrl","testUrl",.25),e.$router.push({path:"/"})):1===t.auth?e.$notify.error({title:"错误",message:"用户权限不够"}):"sqlFail"===t.status?e.$notify.error({title:"错误",message:"用户名或密码错误"}):e.$notify.error({title:"错误",message:"未知错误"})})})},reset:function(){this.$refs.loginForm.resetFields()}}},h={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-container",[i("el-header",{staticStyle:{height:"auto"}},[i("h1",[e._v("欢迎来到宠物医院学习系统")]),e._v(" "),i("h4",[e._v("后台管理")])]),e._v(" "),i("el-main",[i("el-row",[i("el-col",{staticClass:"hidden-xs-only",attrs:{span:16}},[i("img",{staticStyle:{"padding-left":"12.5%"},attrs:{width:"75%",src:"static/img/login.jpg"}})]),e._v(" "),i("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[i("el-form",{ref:"loginForm",staticStyle:{"padding-top":"10%"},attrs:{model:e.loginForm,"label-width":"80px",size:"small",rules:e.loginRule,"label-position":"top"}},[i("el-form-item",{attrs:{label:"用户名",prop:"name"}},[i("el-input",{attrs:{clearable:""},model:{value:e.loginForm.name,callback:function(t){e.$set(e.loginForm,"name",t)},expression:"loginForm.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"密码",prop:"pwd"}},[i("el-input",{attrs:{clearable:""},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.submit(t):null}},model:{value:e.loginForm.pwd,callback:function(t){e.$set(e.loginForm,"pwd",t)},expression:"loginForm.pwd"}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.pwd,expression:"loginForm.pwd"}],domProps:{value:e.loginForm.pwd},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.submit(t):null},input:function(t){t.target.composing||e.$set(e.loginForm,"pwd",t.target.value)}}})],1),e._v(" "),i("el-form-item",{staticClass:"row-col-center",attrs:{size:"medium"}},[i("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("登录")]),e._v(" "),i("el-button",{on:{click:e.reset}},[e._v("重置")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var v=i("Z0/y")(f,h,!1,function(e){i("3O46")},"data-v-049feb3a",null).exports,b={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-container",{staticStyle:{padding:"50px","background-image":"url('../../static/img/homepage_bg.jpg')"},attrs:{direction:"vertical"}},[i("el-row",{attrs:{gutter:5}},[i("el-col",{attrs:{span:8}},[i("el-card",{staticStyle:{margin:"10px"}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("i",{staticClass:"fa fa-users fa-lg"}),e._v(" "),i("span",{staticClass:"hidden-md-and-down"},[e._v(" 用户管理")]),e._v(" "),i("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[i("router-link",{attrs:{to:"/user"}},[e._v("进入")])],1)],1),e._v(" "),i("div",[e._v("\n          介绍\n        ")])])],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-card",{staticStyle:{margin:"10px"}},[i("i",{staticClass:"fa fa-book fa-lg"}),e._v(" "),i("span",{staticClass:"hidden-md-and-down"},[e._v(" 试题管理")])])],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-card",{staticStyle:{margin:"10px"}},[i("i",{staticClass:"fa fa-list-ol fa-lg"}),e._v(" "),i("span",{staticClass:"hidden-md-and-down"},[e._v(" 流程管理")])])],1)],1),e._v(" "),i("el-row",{attrs:{gutter:5}},[i("el-col",{attrs:{span:8}},[i("el-card",{staticStyle:{margin:"10px"}},[i("i",{staticClass:"fa fa-hospital-o fa-lg"}),e._v(" "),i("span",{staticClass:"hidden-md-and-down"},[e._v(" 科室管理")])])],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-card",{staticStyle:{margin:"10px"}},[i("i",{staticClass:"fa fa-video-camera fa-lg"}),e._v(" "),i("span",{staticClass:"hidden-md-and-down"},[e._v(" 病例管理")])])],1)],1)],1)},staticRenderFns:[]};var _=i("Z0/y")(null,b,!1,function(e){i("XOoD")},"data-v-26858562",null).exports,y={props:{index:Number},methods:{showPageName:function(e){return 1===e?"用户管理":2===e?"试题管理":3===e?"流程管理":4===e?"科室管理":5===e?"病例管理":void 0}}},w={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-row",[t("el-breadcrumb",{staticStyle:{"margin-bottom":"20px"},attrs:{separator:"/"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[this._v("首页")]),this._v(" "),t("el-breadcrumb-item",[this._v(this._s(this.showPageName(this.index)))])],1)],1)},staticRenderFns:[]},k=i("Z0/y")(y,w,!1,null,null,null).exports,Q={components:{myBreadcrumb:k},data:function(){return{auth:0,authFilter:0,nameKeyword:"",userList:[],userAuthOptions:[],operatingUser:{id:0,userName:"",pwd:"",auth:1,newPwd:"",newAuth:1},addUserDialogVisible:!1,modifyPwdDialogVisible:!1,modifyAuthDialogVisible:!1,removeUserDialogVisible:!1,currentPage:1,pageSize:5,addUserRule:{userName:[{required:!0,message:"请输入用户名",trigger:"blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"blur"}],auth:[{required:!0,message:"请输入权限",trigger:"change"}]}}},created:function(){this.getAuth(),this.getUserList(),this.userAuthOptions=this.getUserAuthOptions()},computed:{filteredUserList:function(){return console.log("this.authFilter"+this.authFilter),0===this.authFilter?this.userList:this.userList.filter(function(e){return e.auth===this.authFilter}.bind(this))}},methods:{getAuth:function(){this.auth=parseInt(this.$cookie.get("auth"))},getUserList:function(){var e=this;this.$api.post("/user/filter",{userName:this.nameKeyword},function(t){"success"===t.status?e.userList=t.userList:e.$notify.error({title:"错误",message:"用户列表获取失败，请等待后重试"})})},isOperationDisabled:function(e,t){return 2===this.auth&&(1!==t||("modifyUserAuth"===e||void 0))},getUserAuthOptions:function(){return 3===this.auth?[{value:1,label:"User"},{value:2,label:"Admin"},{value:3,label:"Superadmin"}]:[{value:1,label:"User"}]},resetOperationUser:function(){this.operatingUser.id=0,this.operatingUser.userName="",this.operatingUser.auth=1,this.operatingUser.pwd="",this.operatingUser.newAuth=1,this.operatingUser.newPwd=""},addUser:function(){var e=this;this.$refs.addUserForm.validate(function(t){t&&e.$api.post("/user/add",{userName:e.operatingUser.userName,pwd:e.operatingUser.pwd,auth:e.operatingUser.auth},function(t){"success"===t.status?(e.userList.push({id:t.id,userName:t.userName,auth:t.auth}),e.$notify.success({title:"成功",message:"新用户ID为"+t.id}),e.$refs.addUserForm.resetFields(),e.resetOperationUser(),e.addUserDialogVisible=!1):e.$notify.error({title:"错误",message:"新增用户失败，请等待后重试"})})})},removeUser:function(){var e=this;this.$api.post("/user/delete",{id:this.operatingUser.id},function(t){"success"===t.status?(e.getUserList(),e.$notify.success({title:"成功",message:"原用户ID为"+e.operatingUser.id+"已被删除"}),e.resetOperationUser(),e.removeUserDialogVisible=!1):e.$notify.error({title:"错误",message:"删除用户失败，请等待后重试"})})},modifyUserPwd:function(){var e=this;this.$api.post("/user/pwd",{id:this.operatingUser.id,pwd:this.operatingUser.newPwd},function(t){"success"===t.status?(e.$notify.success({title:"成功",message:"已重置用户"+e.operatingUser.id+"的密码"}),e.resetOperationUser(),e.modifyPwdDialogVisible=!1):e.$notify.error({title:"错误",message:"重置用户密码失败，请等待后重试"})})},showModifyAuthDialog:function(e,t,i){this.modifyAuthDialogVisible=!0,this.operatingUser.id=e,this.operatingUser.userName=t,this.operatingUser.auth=i},showModifyPwdDialog:function(e,t){this.modifyPwdDialogVisible=!0,this.operatingUser.id=e,this.operatingUser.userName=t},modifyUserAuth:function(){var e=this;this.$api.post("/user/auth",{id:this.operatingUser.id,auth:this.operatingUser.newAuth},function(t){"success"===t.status?(e.getUserList(),e.$notify.success({title:"成功",message:"已修改用户"+e.operatingUser.id+"的权限"}),e.resetOperationUser(),e.modifyAuthDialogVisible=!1):e.$notify.error({title:"错误",message:"修改权限密码失败，请等待后重试"})})},showAuth:function(e){return 1===e?"User":2===e?"Admin":"Superadmin"},handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e},authFormatter:function(e){return this.showAuth(e.auth)},authFilterHandler:function(e,t,i){return t[i.property]===e},showRemoveUserDialog:function(e,t){this.removeUserDialogVisible=!0,this.operatingUser.id=e,this.operatingUser.userName=t},authFilterChange:function(e){0===e.auth.length?this.authFilter=0:this.authFilter=e.auth[0]}}},U={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-container",{staticStyle:{padding:"50px"},attrs:{direction:"vertical"}},[i("my-breadcrumb",{attrs:{index:1}}),e._v(" "),i("el-row",[i("el-col",{attrs:{span:5}},[i("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.addUserDialogVisible=!e.addUserDialogVisible}}},[e._v("增加用户")])],1),e._v(" "),i("el-col",{staticClass:"row-col-center",attrs:{span:9}},[i("el-form",{attrs:{inline:!0},nativeOn:{submit:function(e){e.preventDefault()}}},[i("el-form-item",[i("el-input",{attrs:{placeholder:"用户名",clearable:""},model:{value:e.nameKeyword,callback:function(t){e.nameKeyword=t},expression:"nameKeyword"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getUserList}},[e._v("搜索用户")])],1)],1)],1),e._v(" "),i("el-col",{attrs:{span:10}},[i("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[5,10],"page-size":e.pageSize,layout:"prev, pager, next, jumper, sizes, ->, total",total:e.filteredUserList.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),i("el-table",{attrs:{stripe:"",data:e.filteredUserList.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize)},on:{"filter-change":e.authFilterChange}},[i("el-table-column",{attrs:{prop:"id",label:"ID"}}),e._v(" "),i("el-table-column",{attrs:{prop:"userName",label:"用户名"}}),e._v(" "),i("el-table-column",{attrs:{prop:"auth",label:"权限",formatter:e.authFormatter,filters:[{text:"User",value:1},{text:"Admin",value:2},{text:"Superadmin",value:3}],"filter-multiple":!1,"filter-placement":"bottom-start","filter-method":e.authFilterHandler,"column-key":"auth"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tag",{attrs:{type:1===t.row.auth?"primary":2===t.row.auth?"success":"warning","close-transition":""}},[e._v(e._s(e.showAuth(t.row.auth)))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",fixed:"right",width:"350"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button-group",[i("el-button",{attrs:{disabled:e.isOperationDisabled("modifyUserPwd",t.row.auth),type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(i){e.showModifyPwdDialog(t.row.id,t.row.userName)}}},[e._v("重置密码")]),e._v(" "),i("el-button",{attrs:{disabled:e.isOperationDisabled("modifyUserAuth",t.row.auth),type:"primary",size:"small",icon:"el-icon-edit-outline\n"},on:{click:function(i){e.showModifyAuthDialog(t.row.id,t.row.userName,t.row.auth)}}},[e._v("修改权限")]),e._v(" "),i("el-button",{attrs:{disabled:e.isOperationDisabled("removeUser",t.row.auth),type:"primary",size:"small",icon:"el-icon-delete"},on:{click:function(i){e.showRemoveUserDialog(t.row.id,t.row.userName)}}},[e._v("删除用户")])],1)]}}])})],1),e._v(" "),i("el-dialog",{attrs:{title:"重置密码",visible:e.modifyPwdDialogVisible,width:"30%"},on:{"update:visible":function(t){e.modifyPwdDialogVisible=t}}},[i("span",[e._v("重置用户名为"+e._s(e.operatingUser.userName)+"的用户密码为")]),e._v(" "),i("el-input",{attrs:{placeholder:"新密码"},model:{value:e.operatingUser.newPwd,callback:function(t){e.$set(e.operatingUser,"newPwd",t)},expression:"operatingUser.newPwd"}}),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.modifyPwdDialogVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.modifyUserPwd}},[e._v("确定")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"修改权限",visible:e.modifyAuthDialogVisible,width:"30%"},on:{"update:visible":function(t){e.modifyAuthDialogVisible=t}}},[i("span",[e._v("修改用户名为"+e._s(e.operatingUser.userName)+"的用户权限由"+e._s(e.showAuth(e.operatingUser.auth))+"为")]),e._v(" "),i("el-select",{model:{value:e.operatingUser.newAuth,callback:function(t){e.$set(e.operatingUser,"newAuth",t)},expression:"operatingUser.newAuth"}},e._l(e.userAuthOptions,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.modifyAuthDialogVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.modifyUserAuth}},[e._v("确定")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"删除用户",visible:e.removeUserDialogVisible,width:"30%"},on:{"update:visible":function(t){e.removeUserDialogVisible=t}}},[i("span",[e._v("确认删除名为"+e._s(e.operatingUser.userName)+"的用户吗？")]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.removeUserDialogVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"danger"},on:{click:e.removeUser}},[e._v("确定")])],1)]),e._v(" "),i("el-dialog",{attrs:{title:"重置密码",visible:e.modifyPwdDialogVisible,width:"30%"},on:{"update:visible":function(t){e.modifyPwdDialogVisible=t}}},[i("span",[e._v("重置用户名为"+e._s(e.operatingUser.userName)+"的用户密码为")]),e._v(" "),i("el-input",{attrs:{placeholder:"新密码"},model:{value:e.operatingUser.newPwd,callback:function(t){e.$set(e.operatingUser,"newPwd",t)},expression:"operatingUser.newPwd"}}),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.modifyPwdDialogVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.modifyUserPwd}},[e._v("确定")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"增加用户",visible:e.addUserDialogVisible,width:"30%"},on:{"update:visible":function(t){e.addUserDialogVisible=t}}},[i("el-form",{ref:"addUserForm",attrs:{model:e.operatingUser,"label-width":"80px",size:"small",rules:e.addUserRule,"label-position":"left"}},[i("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[i("el-input",{attrs:{clearable:""},model:{value:e.operatingUser.userName,callback:function(t){e.$set(e.operatingUser,"userName",t)},expression:"operatingUser.userName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"密码",prop:"pwd"}},[i("el-input",{attrs:{clearable:""},model:{value:e.operatingUser.pwd,callback:function(t){e.$set(e.operatingUser,"pwd",t)},expression:"operatingUser.pwd"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"权限",prop:"auth"}},[i("el-select",{model:{value:e.operatingUser.auth,callback:function(t){e.$set(e.operatingUser,"auth",t)},expression:"operatingUser.auth"}},e._l(e.userAuthOptions,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.addUserDialogVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.addUser}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};var x=i("Z0/y")(Q,U,!1,function(e){i("jA3B")},"data-v-1a4e2857",null).exports,D={components:{myBreadcrumb:k},data:function(){return{questionList:[],categoryList:[],operatingQuestion:{id:0,category:"",stem:"",optA:"",optB:"",optC:"",optD:"",answer:""},keyword:"",id:"",addQuestionDialogVisible:!1,modifyQuestionDialogVisible:!1,removeQuestionDialogVisible:!1,currentPage:1,pageSize:5,categoryFilter:"",questionRule:{stem:[{required:!0,message:"请输入题干",trigger:"blur"}],category:[{required:!0,message:"请输入试题类别",trigger:"change"}],optA:[{required:!0,message:"请输入选项",trigger:"blur"}],optB:[{required:!0,message:"请输入选项",trigger:"blur"}],optC:[{required:!0,message:"请输入选项",trigger:"blur"}],optD:[{required:!0,message:"请输入选项",trigger:"blur"}],answer:[{required:!0,message:"请输入正确答案",trigger:"change"}]}}},created:function(){this.getQuestionList(),this.getCategoryList()},computed:{filteredQuestionList:function(){return""===this.categoryFilter?this.questionList:this.questionList.filter(function(e){return e.category===this.categoryFilter}.bind(this))}},methods:{getQuestionList:function(){var e,t=this;e=""===this.id?{keyword:this.keyword}:{id:parseInt(this.id),keyword:this.keyword},this.$api.post("/question/filter",e,function(e){"success"===e.status?t.questionList=e.questionList:t.$notify.error({title:"错误",message:"题目列表获取失败，请等待后重试"})})},getCategoryList:function(){var e=this;this.$api.post("/question/category",null,function(t){if("success"===t.status){var i=[];["c1","c2","c3"].forEach(function(e){i.push({value:e,text:e})}),e.categoryList=i}else e.$notify.error({title:"错误",message:"试题类别列表获取失败，请等待后重试"})})},categoryFilterChange:function(e){0===e.category.length?this.categoryFilter="":this.categoryFilter=e.category[0]},handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e},categoryFilterHandler:function(e,t,i){return t[i.property]===e},showModifyQuestionDialog:function(e){this.modifyQuestionDialogVisible=!0,this.operatingQuestion.id=e.id,this.operatingQuestion.stem=e.stem,this.operatingQuestion.category=e.category,this.operatingQuestion.optA=e.optA,this.operatingQuestion.optB=e.optB,this.operatingQuestion.optC=e.optC,this.operatingQuestion.optD=e.id,this.operatingQuestion.answer=e.answer},showRemoveQuestionDialog:function(e){this.removeQuestionDialogVisible=!0,this.operatingQuestion.id=e},addQuestion:function(){var e=this;this.$refs.addQuestionForm.validate(function(t){t&&e.$api.post("/question/add",e.operatingQuestion,function(t){"success"===t.status?(e.questionList.push({id:t.id,category:t.category,stem:t.stem,optA:t.optA,optB:t.optB,optC:t.optC,optD:t.optD,answer:t.answer}),e.$notify.success({title:"成功",message:"新试题ID为"+t.id}),e.$refs.addQuestionForm.resetFields(),e.resetOperatingQuestion(),e.addQuestionDialogVisible=!1):e.$notify.error({title:"错误",message:"新增试题失败，请等待后重试"})})})},modifyQuestion:function(){var e=this;this.$refs.modifyQuestionForm.validate(function(t){t&&e.$api.post("/question/update",e.operatingQuestion,function(t){"success"===t.status?(e.getQuestionList(),e.$notify.success({title:"成功",message:"已成功修改ID为"+t.id+"的试题"}),e.$refs.modifyQuestionForm.resetFields(),e.resetOperatingQuestion(),e.modifyQuestionDialogVisible=!1):e.$notify.error({title:"错误",message:"修改试题失败，请等待后重试"})})})},removeQuestion:function(){var e=this;this.$api.post("/question/delete",{id:this.operatingQuestion},function(t){"success"===t.status?(e.getQuestionList(),e.$notify.success({title:"成功",message:"已成功删除ID为"+t.id+"的试题"}),e.resetOperatingQuestion(),e.removeQuestionDialogVisible=!1):e.$notify.error({title:"错误",message:"删除试题失败，请等待后重试"})})},resetOperatingQuestion:function(){this.id=0,this.category="",this.stem="",this.optA="",this.optB="",this.optC="",this.optD="",this.answer=""}}},$={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-container",{staticStyle:{padding:"50px"},attrs:{direction:"vertical"}},[i("my-breadcrumb",{attrs:{index:2}}),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-button-group",[i("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.addQuestionDialogVisible=!0}}},[e._v("增加试题")])],1)],1),e._v(" "),i("el-col",{attrs:{span:16}},[i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"题目编号",clearable:""},model:{value:e.id,callback:function(t){e.id=t},expression:"id"}}),e._v(" "),i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"题干/任意选项",clearable:""},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),e._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getQuestionList}},[e._v("搜索试题")])],1)],1),e._v(" "),i("el-table",{attrs:{stripe:"",data:e.filteredQuestionList.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize)},on:{"filter-change":e.categoryFilterChange}},[i("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[i("el-form-item",{attrs:{label:"A选项"}},[i("span",[e._v(e._s(t.row.optA))])]),e._v(" "),i("el-form-item",{attrs:{label:"B选项"}},[i("span",[e._v(e._s(t.row.optB))])]),e._v(" "),i("el-form-item",{attrs:{label:"C选项"}},[i("span",[e._v(e._s(t.row.optC))])]),e._v(" "),i("el-form-item",{attrs:{label:"D选项"}},[i("span",[e._v(e._s(t.row.optD))])])],1)]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"id",label:"ID"}}),e._v(" "),i("el-table-column",{attrs:{prop:"stem",label:"题干"}}),e._v(" "),i("el-table-column",{attrs:{prop:"category",label:"试题类别",filters:e.categoryList,"filter-multiple":!1,"filter-placement":"bottom-start","filter-method":e.categoryFilterHandler,"column-key":"category"}}),e._v(" "),i("el-table-column",{attrs:{prop:"answer",label:"正确选项"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",fixed:"right",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button-group",[i("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(i){e.showModifyQuestionDialog(t.row)}}},[e._v("修改试题")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-delete"},on:{click:function(i){e.showRemoveQuestionDialog(t.row.id)}}},[e._v("删除试题")])],1)]}}])})],1),e._v(" "),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:12,offset:6}},[i("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[5,10],"page-size":e.pageSize,layout:"prev, pager, next, jumper, sizes, ->, total",total:e.filteredQuestionList.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"修改试题",visible:e.modifyQuestionDialogVisible,width:"50%"},on:{"update:visible":function(t){e.modifyQuestionDialogVisible=t}}},[i("el-form",{ref:"modifyQuestionForm",attrs:{model:e.operatingQuestion,"label-width":"80px",rules:e.questionRule,size:"small","label-position":"left"}},[i("el-form-item",{attrs:{label:"题干",prop:"stem"}},[i("el-input",{model:{value:e.operatingQuestion.stem,callback:function(t){e.$set(e.operatingQuestion,"stem",t)},expression:"operatingQuestion.stem"}})],1),e._v(" "),i("el-form-item",{attrs:{inline:"",label:"类别",prop:"category"}},[i("el-select",{staticStyle:{width:"247.9px"},attrs:{filterable:"",placeholder:"请选择(支持搜索和输入新增)","allow-create":""},model:{value:e.operatingQuestion.category,callback:function(t){e.$set(e.operatingQuestion,"category",t)},expression:"operatingQuestion.category"}},e._l(e.categoryList,function(e){return i("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"选项A",prop:"optA"}},[i("el-input",{model:{value:e.operatingQuestion.optA,callback:function(t){e.$set(e.operatingQuestion,"optA",t)},expression:"operatingQuestion.optA"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"选项B",prop:"optB"}},[i("el-input",{model:{value:e.operatingQuestion.optB,callback:function(t){e.$set(e.operatingQuestion,"optB",t)},expression:"operatingQuestion.optB"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"选项C",prop:"optC"}},[i("el-input",{model:{value:e.operatingQuestion.optC,callback:function(t){e.$set(e.operatingQuestion,"optC",t)},expression:"operatingQuestion.optC"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"选项D",prop:"optD"}},[i("el-input",{model:{value:e.operatingQuestion.optD,callback:function(t){e.$set(e.operatingQuestion,"optD",t)},expression:"operatingQuestion.optD"}})],1),e._v(" "),i("el-form-item",{attrs:{inline:"",label:"正确选项",prop:"answer"}},[i("el-select",{staticStyle:{width:"247.9px"},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.operatingQuestion.answer,callback:function(t){e.$set(e.operatingQuestion,"answer",t)},expression:"operatingQuestion.answer"}},e._l(["A","B","C","D"],function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.modifyQuestionDialogVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.modifyQuestion}},[e._v("确定")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"增加试题",visible:e.addQuestionDialogVisible,width:"50%"},on:{"update:visible":function(t){e.addQuestionDialogVisible=t}}},[i("el-form",{ref:"addQuestionForm",attrs:{model:e.operatingQuestion,"label-width":"80px",rules:e.questionRule,size:"small","label-position":"left"}},[i("el-form-item",{attrs:{label:"题干",prop:"stem"}},[i("el-input",{model:{value:e.operatingQuestion.stem,callback:function(t){e.$set(e.operatingQuestion,"stem",t)},expression:"operatingQuestion.stem"}})],1),e._v(" "),i("el-form-item",{attrs:{inline:"",label:"类别",prop:"category"}},[i("el-select",{staticStyle:{width:"247.9px"},attrs:{filterable:"",placeholder:"请选择(支持搜索和输入新增)","allow-create":""},model:{value:e.operatingQuestion.category,callback:function(t){e.$set(e.operatingQuestion,"category",t)},expression:"operatingQuestion.category"}},e._l(e.categoryList,function(e){return i("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"选项A",prop:"optA"}},[i("el-input",{model:{value:e.operatingQuestion.optA,callback:function(t){e.$set(e.operatingQuestion,"optA",t)},expression:"operatingQuestion.optA"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"选项B",prop:"optB"}},[i("el-input",{model:{value:e.operatingQuestion.optB,callback:function(t){e.$set(e.operatingQuestion,"optB",t)},expression:"operatingQuestion.optB"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"选项C",prop:"optC"}},[i("el-input",{model:{value:e.operatingQuestion.optC,callback:function(t){e.$set(e.operatingQuestion,"optC",t)},expression:"operatingQuestion.optC"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"选项D",prop:"optD"}},[i("el-input",{model:{value:e.operatingQuestion.optD,callback:function(t){e.$set(e.operatingQuestion,"optD",t)},expression:"operatingQuestion.optD"}})],1),e._v(" "),i("el-form-item",{attrs:{inline:"",label:"正确选项",prop:"answer"}},[i("el-select",{staticStyle:{width:"247.9px"},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.operatingQuestion.answer,callback:function(t){e.$set(e.operatingQuestion,"answer",t)},expression:"operatingQuestion.answer"}},e._l(["A","B","C","D"],function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.addQuestionDialogVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.addQuestion}},[e._v("确定")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"删除试题",visible:e.removeQuestionDialogVisible,width:"30%"},on:{"update:visible":function(t){e.removeQuestionDialogVisible=t}}},[i("span",[e._v("试题编号为"+e._s(e.operatingQuestion.id)+"，确认删除该试题吗？")]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.removeQuestionDialogVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"danger"},on:{click:e.removeQuestion}},[e._v("确定")])],1)])],1)},staticRenderFns:[]},C=i("Z0/y")(D,$,!1,null,null,null).exports,F={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("p",[this._v("科室管理")])])}]},A=i("Z0/y")(null,F,!1,null,null,null).exports,S={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("p",[this._v("流程管理")])])}]},V=i("Z0/y")(null,S,!1,null,null,null).exports,L={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("p",[this._v("病例管理")])])}]},P=i("Z0/y")(null,L,!1,null,null,null).exports,z={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-table",{attrs:{data:e.tableData5}},[i("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"top",inline:""}},[i("el-form-item",{attrs:{label:"商品名称"}},[i("span",[e._v(e._s(t.row.name))])])],1)]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"商品 ID",prop:"id"}}),e._v(" "),i("el-table-column",{attrs:{label:"商品名称",prop:"name"}}),e._v(" "),i("el-table-column",{attrs:{label:"描述",prop:"desc"}})],1)},staticRenderFns:[]};var E=i("Z0/y")({data:function(){return{tableData5:[{id:"12987122",name:"好滋好味鸡蛋仔",category:"江浙小吃、小吃零食江浙小吃、小吃零食江浙小吃、小吃零食江浙小吃、小吃零食江浙小吃、小吃零食江浙小吃、小吃零食",desc:"荷兰优质淡奶，奶香浓而不腻",address:"上海市普陀区真北路",shop:"王小虎夫妻店",shopId:"10333"},{id:"12987123",name:"好滋好味鸡蛋仔",category:"江浙小吃、小吃零食",desc:"荷兰优质淡奶，奶香浓而不腻",address:"上海市普陀区真北路",shop:"王小虎夫妻店",shopId:"10333"},{id:"12987125",name:"好滋好味鸡蛋仔",category:"江浙小吃、小吃零食",desc:"荷兰优质淡奶，奶香浓而不腻",address:"上海市普陀区真北路",shop:"王小虎夫妻店",shopId:"10333"},{id:"12987126",name:"好滋好味鸡蛋仔",category:"江浙小吃、小吃零食",desc:"荷兰优质淡奶，奶香浓而不腻",address:"上海市普陀区真北路",shop:"王小虎夫妻店",shopId:"10333"}]}}},z,!1,function(e){i("u4Qk")},null,null).exports;s.default.use(r.a);var q=new r.a({routes:[{path:"/",component:g,children:[{path:"",component:_},{path:"user",component:x},{path:"question",component:C},{path:"department",component:A},{path:"procedure",component:V},{path:"case",component:P},{path:"test",component:E}]},{path:"/helloworld",name:"HelloWorld",component:l},{path:"/login",component:v}]}),N=i("wi/X"),O=i.n(N),R=(i("ENLC"),i("lsL5"),i("Qq5Q"),"/api"),B=i("aozt");function j(e,t){var i,s,a=new RegExp("(^| )"+e+"=([^;]*)(;|$)");(i=document.cookie.match(a))&&(s=unescape(i[2]));var o=60*t*60;document.cookie=e+"="+escape(s)+";max-age="+o}function T(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function I(e,t,i,s){i&&(i=function e(t){for(var i in t)null===t[i]&&delete t[i],"string"===T(t[i])?t[i]=t[i].trim():"object"===T(t[i])?t[i]=e(t[i]):"array"===T(t[i])&&(t[i]=e(t[i]));return t}(i)),B({method:e,url:t,data:"POST"===e||"PUT"===e?i:null,params:"GET"===e||"DELETE"===e?i:null,baseURL:R,withCredentials:!1}).then(function(e){"/user/login"!==t&&(j("name",.25),j("auth",.25),j("picUrl",.25)),s&&s(e.data)}).catch(function(e){var t=e.response;e&&window.alert("api error, HTTP CODE: "+t.status)})}var Z={get:function(e,t,i){return I("GET",e,t,i)},post:function(e,t,i){return I("POST",e,t,i)},put:function(e,t,i){return I("PUT",e,t,i)},delete:function(e,t,i){return I("DELETE",e,t,i)}};function H(e){var t,i=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(i))?unescape(t[2]):null}var M={set:function(e,t,i){return function(e,t,i){var s=60*i*60;document.cookie=e+"="+escape(t)+";max-age="+s}(e,t,i)},get:function(e){return H(e)},delete:function(e){return function(e){var t=new Date;t.setTime(t.getTime()-1);var i=H(e);null!==i&&(document.cookie=e+"="+i+";expires="+t.toGMTString())}(e)},update:function(e,t){return function(e,t){var i=H(e),s=60*t*60;document.cookie=e+"="+escape(i)+";max-age="+s}(e,t)}};s.default.prototype.$api=Z,s.default.prototype.$cookie=M,s.default.config.productionTip=!1,s.default.use(O.a),new s.default({el:"#app",router:q,components:{App:o},template:"<App/>"})},Qq5Q:function(e,t){},TFqn:function(e,t){},WDQU:function(e,t){},XOoD:function(e,t){},jA0s:function(e,t){},jA3B:function(e,t){},lsL5:function(e,t){},u4Qk:function(e,t){}},["NHnr"]);